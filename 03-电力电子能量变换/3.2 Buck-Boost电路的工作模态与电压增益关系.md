# 3.2 Buck-Boost电路的工作模态与电压增益关系

## 3.2.1 Buck-Boost电路的基本拓扑与工作原理

Buck-Boost变换器是一种非隔离型直流变换电路，其独特之处在于输出电压的极性可以与输入电压相反，且能够实现升降压功能。该电路由开关管（MOSFET或IGBT）、二极管、电感和电容等基本元件组成。

**电路拓扑结构**：将Buck电路与Boost电路的拓扑结构组合在一起，去掉Buck电路中的无源开关和Boost中的有源开关，便构成了Buck-Boost变换电路。其最显著的特点是**输出电压的极性与输入电压相反**，且通过调节占空比可以实现输出电压低于或高于输入电压。

**在MPPT系统中的重要性**：Buck-Boost电路能够适应光伏电池板随光照、温度变化而产生的宽范围输出电压波动，是实现最大功率点跟踪的理想选择。

【图3.2-1 Buck-Boost电路拓扑结构图】

## 3.2.2 工作模态分析

根据电感电流的连续性，Buck-Boost变换器有三种工作模式：连续导通模式（CCM）、断续导通模式（DCM）和临界导通模式（BCM）。在MPPT应用中，通常力求使电路工作在CCM模式，以获得更稳定的控制特性。

### 3.2.2.1 连续导通模式（CCM）的工作模态

**模态1：开关管导通阶段（0 < t < DTₛ）**

当开关管S导通时，二极管D因承受反向电压而截止，输入电压Uᵢₙ直接加在电感L两端，电感电流iᴸ线性增加。此时，电感储存能量，负载由输出电容C供电。

- **电感电压**：vᴸ = Vᵢₙ
- **电感电流变化量**：Δiᴸ⁺ = (Vᵢₙ × DTₛ) / L
- **能量流向**：电源→电感（储能），电容→负载（供电）

【图3.2-2 开关管导通时的等效电路与电流路径】

**模态2：开关管关断阶段（DTₛ < t < Tₛ）**

当开关管S关断时，电感电流不能突变，产生反向电动势（上负下正），使二极管D导通。电感中储存的能量通过二极管向负载和电容转移，同时对电容充电。

- **电感电压**：vᴸ = -Vₒᵤₜ
- **电感电流变化量**：Δiᴸ⁻ = (Vₒᵤₜ × (1-D)Tₛ) / L
- **能量流向**：电感→负载+电容（供电/充电）

【图3.2-3 开关管关断时的等效电路与电流路径】

**稳态工作条件**：在稳态工作时，一个开关周期内电感电流的增加量等于减少量（伏秒平衡原理），即：
$V_{in} \cdot D \cdot T_s = V_{out} \cdot (1-D) \cdot T_s$


### 3.2.2.2 断续导通模式（DCM）与临界导通模式（BCM）

当负载电流较小或电感值不足时，电感电流可能在开关周期结束前降至零，进入断续导通模式。此时电路存在三种工作状态：

- **开关导通状态**（DTₛ）：电感电流从零开始线性增加
- **二极管导通状态**（D₂Tₛ）：电感电流线性减小至零
- **空闲状态**（D₃Tₛ）：开关和二极管均截止，负载完全由电容供电

临界导通模式（BCM）是CCM与DCM之间的边界情况，电感电流恰好在周期结束时降为零。

【图3.2-4 三种工作模式下的电感电流波形对比】

## 3.2.3 电压增益关系推导

### 3.2.3.1 基于伏秒平衡原理的增益推导

根据电感伏秒平衡原理，稳态时电感电压在一个开关周期内的积分为零：

$\int_{0}^{T_s} v_L(t)dt = 0$

对于CCM模式，有：
$V_{in} \cdot D \cdot T_s + (-V_{out}) \cdot (1-D) \cdot T_s = 0$
$V_{in} \cdot D = V_{out} \cdot (1-D)$

由此可得Buck-Boost变换器的**电压增益公式**：
$M = \frac{V_{out}}{V_{in}} = \frac{D}{1-D}$

值得注意的是，实际输出电压为负值，公式中的Vₒᵤₜ通常取其绝对值。

### 3.2.3.2 电压增益特性分析

Buck-Boost电路的电压增益与占空比D的关系如下表所示：

| 占空比D | 电压增益M | 工作模式 | 说明 |
|-------|---------|---------|------|
| D < 0.5 | M < 1 | **降压模式** | 输出电压低于输入电压 |
| D = 0.5 | M = 1 | **等压模式** | 输出电压等于输入电压 |
| D > 0.5 | M > 1 | **升压模式** | 输出电压高于输入电压 |

【图3.2-5 Buck-Boost电路电压增益M与占空比D的关系曲线】

这种灵活的增益特性使Buck-Boost电路能够适应光伏电池板的大范围电压变化，当电池板输出电压随环境变化时，通过调整占空比D即可维持所需的MPPT工作电压。

### 3.2.3.3 不同工作模式下的电压增益变化

在DCM模式下，电压增益不仅与占空比有关，还与负载电流和电感参数相关：

$M = \frac{D}{\sqrt{K}}$

其中K为与负载相关的参数：
$K = \frac{2L}{R \cdot T_s}$

这表明在DCM模式下，电压增益受负载影响，增加了MPPT控制的复杂性。

## 3.2.4 关键参数设计与波形分析

### 3.2.4.1 电感设计与电流纹波

电感值是确保电路工作在所需模式的关键参数。临界电感值（确保CCM模式的最小电感）计算公式为：

$L_{critical} = \frac{(1-D)^2 \cdot R}{2f_s}$

实际设计中通常取临界值的1.2-1.3倍以确保电流连续。

电感电流纹波计算公式为：
$\Delta I_L = \frac{V_{in} \cdot D}{f_s \cdot L}$

在MPPT应用中，需要权衡电感大小（影响动态响应）与纹波电流（影响元件应力）。

### 3.2.4.2 电容设计与电压纹波

输出电容主要用于抑制输出电压纹波，其值可根据纹波要求计算：

$C = \frac{I_o \cdot D}{f_s \cdot \Delta V_o}$

其中ΔVₒ为允许的输出电压纹波。在光伏应用中，输出电压纹波直接影响MPPT算法的精度，因此需要精心设计。

### 3.2.4.3 关键波形特征

Buck-Boost电路的典型波形包括：

- **电感电流波形**：三角波或梯形波，连续或断续
- **开关管电压应力**：Vᴅꜱ = Vᵢₙ + Vₒᵤₜ
- **二极管电压应力**：同开关管，为输入输出电压之和
- **输出电压波形**：带有纹波的直流电压，极性相反

【图3.2-6 Buck-Boost电路在CCM模式下的关键工作波形】

## 3.2.5 在MPPT应用中的特殊考量

### 3.2.5.1 模式平滑过渡技术

在光伏应用中，光照强度突变可能导致电路在CCM与DCM之间切换，引起控制环路不稳定。实践中可采用：

- **自适应补偿网络**：根据检测到的电流连续性调整控制器参数
- **滞环控制策略**：设置模态切换滞环宽度，防止频繁模式切换
- **双模控制器**：针对不同工作模式设计独立的控制策略

### 3.2.5.2 输入电压波动抑制

光伏电池板的输出特性随环境变化而波动，需要特别关注：

- **前馈控制技术**：检测输入电压变化，提前调整占空比
- **电压电流双环控制**：内环控制电感电流，外环控制输出电压
- **抗饱和补偿**：防止积分饱和导致的大信号不稳定

【图3.2-7 适用于MPPT的Buck-Boost电路控制框图】

Buck-Boost电路凭借其灵活的电压变换能力和宽范围输入适应性，成为光伏MPPT系统中不可或缺的功率调节单元。理解其工作模态与电压增益关系，是设计和优化高效MPPT控制系统的基础。